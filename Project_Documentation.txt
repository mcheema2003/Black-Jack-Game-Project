Team Name: Max Vertsappen Mentality 
Team Members: Muhammad Cheema 
Course: Discrete Structures 
Date: December 2025 

Project Information / Details : 

WHAT PROBLEMS ARE WE SOLVING IN THIS PROJECT? 

This project focuses on solving several computational and mathematical challenges 
related to casino card games, specifically Blackjack. The main goal is to simulate a 
realistic Blackjack game that follows standard casino rules, including accurate card 
distribution and game outcomes. Another key challenge is calculating winning 
probabilities in real time, which involves applying concepts from probability, 
combinatorics, and statistical simulation. In real casinos, players usually make decisions 
without knowing their exact odds, so this program helps make those probabilities visible 
and easier to understand. The project also handles proper deck management by 
dealing cards fairly from a standard 52-card deck without replacement, and it accounts 
for the special case of Aces, which can count as either 1 or 11 depending on the 
situation. 

WHAT SOLUTIONS ARE WE IMPLEMENTING IN THE PROJECT? 

The solution uses an object-oriented design in C++ to represent the different parts of 
the game. A “Deck” class is responsible for managing the 52-card deck, shuffling it 
using the Fisher–Yates algorithm, and keeping track of which cards have already been 
dealt so probability calculations remain accurate. The Hand class manages the cards 
held by a player or the dealer and calculates hand values, including the added 
complexity of soft hands where an Ace can count as either 1 or 11. To estimate winning 
chances, the “ProbabilityCalculator” class relies on Monte Carlo simulation, running 
1,000 simulated games for each calculation. This approach produces reliable probability 
estimates without the need for complicated mathematical formulas. The BlackjackGame 
class ties everything together by controlling the overall game flow, handling player turns, 
enforcing dealer rules based on standard casino behavior, managing bets, and 
determining wins and losses. The program also includes a balance management 
system that allows players to add more funds when they run out, helping to mimic the 
experience of playing Blackjack in a real casino. 

EXPLANATION OF CALCULATIONS AND ALGORITHM IMPLEMENTATION 

The probability calculations in the program rely on several concepts from discrete 
mathematics. The bust probability is calculated by counting how many cards left in the 
deck would cause the player’s hand to go over 21, and then dividing that number by the 
total number of remaining cards. For instance, if a player has a hand value of 15 and 
there are 48 cards left in the deck, with 20 of them valued at 7 or higher, the bust 
probability would be 20 out of 48, or about 41.67%. Calculating the dealer’s bust 
probability is more complex, since the dealer’s final outcome depends on drawing 
multiple cards while following the rule of hitting until reaching at least 17. Because of 
this, the program uses Monte Carlo simulation. In each simulation, the dealer is dealt 
random cards from the remaining deck until they either stand or bust. Repeating this 
process many times allows the program to estimate the probability based on how often 
the dealer busts. Hand value calculation uses a greedy approach to handle Aces. The 
program first counts all Aces as 11 and sums the hand. If the total exceeds 21, it 
reduces the value by 10 for each Ace, effectively changing its value from 11 to 1, until 
the hand is valid or no more Aces remain. Finally, the deck is shuffled using the 
Fisher–Yates algorithm, which ensures a fair and uniform random shuffle with linear 
time complexity. 

WHAT IS THE PROGRAM OBJECTIVE? EXPLAIN HOW YOUR PROGRAM IS 
INTERACTING WITH THE USER AND ITS PURPOSE 

The goal of the program is to create a Blackjack simulation that is both educational and 
fun, allowing players to see probability concepts in action as they play. The game runs 
through a text-based console interface and starts by giving the user an initial balance of 
$1000. The user is then asked to place a bet before each round. Once a bet is made, 
two cards are dealt to both the player and the dealer, with one of the dealer’s cards kept 
hidden.The program displays the current hands and provides a probability breakdown, 
including the chance of busting on the next hit, an estimate of the dealer’s bust 
probability, the player’s current chance of winning if they choose to stand, and the 
probability of safely hitting without busting. The user can then decide whether to hit or 
stand. Each time the player takes a hit, the probabilities are recalculated and shown 
again based on the updated hand and the remaining cards in the deck. When the player 
stands, the dealer reveals the hidden card and continues drawing cards according to 
standard casino rules until reaching a hand value of at least 17. The program then 
determines the outcome of the round, updates the player’s balance, and asks if they 
want to play another hand. If the player runs out of money, the program offers the option 
to add more funds. Overall, the program is designed to help users better understand 
probability-based decision making while enjoying a classic card game. 

HOW IS DISCRETE STRUCTURES IMPLEMENTED IN THE C++ PROGRAM? 

Discrete structures play a key role in how the program is built. The deck of cards is 
represented using sets and sequences, where each card is a unique element in a 
standard 52-card deck. In the actual implementation, the deck is stored as a vector, 
which acts as an ordered list that can be shuffled and dealt from during gameplay. 
Combinatorics comes into play when calculating probabilities, since the program 
determines outcomes by counting favorable cases and dividing by the total number of 
possible cases. For example, if there are n cards left in the deck and k of them would 
cause the player to bust, the probability of busting is simply k/n. Some graph-theory 
ideas appear indirectly through game state transitions. Each game state defined by 
factors like the player’s hand total, the dealer’s visible card, and the remaining deck can 
transition to a new state depending on the actions taken by the player or dealer. Logic 
and Boolean algebra are used throughout the program to control game flow, such as 
checking whether a hand has busted (total greater than 21), whether it is a blackjack 
(two cards totaling 21), or whether it is a soft hand that includes an Ace counted as 11. 
Modular arithmetic shows up in the deck-shuffling process and in handling card values. 
Overall, probability theory is the most important concept used, appearing in both direct 
calculations like bust probability and in statistical methods such as Monte Carlo 
simulation to estimate dealer outcomes. 

WHAT ARE THE LIMITATIONS OF THE PROGRAM? 

The program also has several limitations worth noting. To begin with, it uses only a 
single 52-card deck, while most real casinos use multiple decks to reduce the 
effectiveness of card counting. In addition, the Monte Carlo simulation runs for only 
1,000 iterations. While this is enough to give reasonably accurate estimates, the results 
can still vary by about 1–3%. The program also does not include all common Blackjack 
features, such as splitting pairs, doubling down, insurance bets, or surrender. Another 
limitation is the random number generation, which relies on time-based seeding. This 
can lead to predictable sequences if the game is started multiple times within the same 
second. The program also does not save progress between sessions, meaning the 
game state and balance are lost when the program closes. In the probability 
simulations, cards are treated as if they are drawn with replacement, which slightly 
reduces accuracy compared to real gameplay. Additionally, the lack of a graphical user 
interface may make the program less accessible for users who are not comfortable with 
text based applications. Finally, the program does not track long-term statistics across 
multiple hands, such as overall win rate, average profit, or how closely the player 
follows an optimal strategy. 

RECOMMENDATIONS FOR IMPROVING THE LIMITATIONS 

Several improvements could be made to enhance the program. The single-deck 
limitation could be addressed by using a multi-deck shoe with six to eight decks, along 
with a cut card that triggers a reshuffle once it is reached. Probability accuracy could be 
improved by increasing the number of Monte Carlo simulations to around 10,000 or by 
switching to exact probability calculations using techniques like dynamic programming. 
Missing Blackjack features could also be added. For example, splitting pairs could be 
handled by managing multiple hands at once, doubling down could be implemented by 
allowing players to increase their bet after the initial deal, and insurance could be 
offered when the dealer shows an Ace. Randomness would improve by using the 
C++11 random library with a Mersenne Twister engine seeded from a hardware-based 
random source instead of relying on time-based seeding. The program could also be 
expanded to save progress between sessions by adding file input and output for game 
state, player balance, and statistics. Probability simulations could be made more 
realistic by removing cards from the deck as they are simulated rather than treating 
draws as independent. Adding a graphical interface using a library such as SDL or Qt 
would make the game more accessible and user-friendly. Finally, a statistics tracking 
system could be introduced to record long-term performance, such as win rate and total 
profit, and a basic strategy advisor could be added to suggest the mathematically 
optimal move based on the player’s hand and the dealer’s visible card.

--------------------------------------------------------------------------------
3. PSEUDOCODE
--------------------------------------------------------------------------------

PROGRAM Blackjack

BEGIN MAIN PROGRAM
    SET playerMoney = 1000
    DISPLAY "Welcome to Blackjack!"
    DISPLAY "Starting balance: $" + playerMoney
    
    SET playAgain = 'y'
    
    WHILE playAgain == 'y' DO
        
        // Check if player is out of money
        IF playerMoney <= 0 THEN
            DISPLAY "You're out of money!"
            DISPLAY "Would you like to add more balance? (y/n)"
            INPUT addMore
            
            IF addMore == 'y' THEN
                DISPLAY "How much would you like to add?"
                INPUT addAmount
                IF addAmount > 0 THEN
                    playerMoney = playerMoney + addAmount
                    DISPLAY "New balance: $" + playerMoney
                ELSE
                    DISPLAY "Invalid amount. Game over."
                    EXIT LOOP
                END IF
            ELSE
                DISPLAY "Game over."
                EXIT LOOP
            END IF
        END IF
        
        // Initialize new round
        CALL CreateDeck()
        CALL ShuffleDeck()
        SET playerHand = empty
        SET dealerHand = empty
        
        // Get bet
        DISPLAY "Current Balance: $" + playerMoney
        DISPLAY "Enter your bet:"
        INPUT bet
        
        IF bet > playerMoney THEN
            bet = playerMoney
            DISPLAY "Betting all: $" + bet
        END IF
        
        // Deal initial cards
        ADD DealCard() TO playerHand
        ADD DealCard() TO dealerHand
        ADD DealCard() TO playerHand
        ADD DealCard() TO dealerHand
        
        // Display hands
        DISPLAY "Dealer's Hand: [Hidden], " + dealerHand[1]
        DISPLAY "Player's Hand: " + playerHand + " (Total: " + CalculateHandValue(playerHand) + ")"
        
        // Calculate and display probabilities
        CALL DisplayProbabilities(playerHand, dealerHand[1])
        
        // Check for player blackjack
        IF CalculateHandValue(playerHand) == 21 AND SIZE(playerHand) == 2 THEN
            DISPLAY "BLACKJACK! You win 1.5x your bet!"
            playerMoney = playerMoney + (bet * 1.5)
            DISPLAY "Play again? (y/n)"
            INPUT playAgain
            CONTINUE TO NEXT ITERATION
        END IF
        
        // Player's turn
        SET playerStands = false
        
        WHILE CalculateHandValue(playerHand) <= 21 AND playerStands == false DO
            DISPLAY "Choose action - (H)it or (S)tand:"
            INPUT choice
            
            IF choice == 'h' OR choice == 'H' THEN
                ADD DealCard() TO playerHand
                DISPLAY "Player's Hand: " + playerHand + " (Total: " + CalculateHandValue(playerHand) + ")"
                
                IF CalculateHandValue(playerHand) <= 21 THEN
                    CALL DisplayProbabilities(playerHand, dealerHand[1])
                END IF
                
            ELSE IF choice == 's' OR choice == 'S' THEN
                playerStands = true
            END IF
        END WHILE
        
        // Check if player busted
        IF CalculateHandValue(playerHand) > 21 THEN
            DISPLAY "BUST! You lose $" + bet
            playerMoney = playerMoney - bet
        ELSE
            // Dealer's turn
            DISPLAY "Dealer's Hand: " + dealerHand + " (Total: " + CalculateHandValue(dealerHand) + ")"
            
            WHILE CalculateHandValue(dealerHand) < 17 DO
                DISPLAY "Dealer hits..."
                ADD DealCard() TO dealerHand
                DISPLAY "Dealer's Hand: " + dealerHand + " (Total: " + CalculateHandValue(dealerHand) + ")"
            END WHILE
            
            // Determine winner
            SET playerTotal = CalculateHandValue(playerHand)
            SET dealerTotal = CalculateHandValue(dealerHand)
            
            IF dealerTotal > 21 THEN
                DISPLAY "Dealer BUSTS! You win $" + bet
                playerMoney = playerMoney + bet
            ELSE IF playerTotal > dealerTotal THEN
                DISPLAY "You WIN $" + bet
                playerMoney = playerMoney + bet
            ELSE IF playerTotal < dealerTotal THEN
                DISPLAY "Dealer wins. You lose $" + bet
                playerMoney = playerMoney - bet
            ELSE
                DISPLAY "PUSH! It's a tie."
            END IF
        END IF
        
        DISPLAY "Your balance: $" + playerMoney
        DISPLAY "Play again? (y/n)"
        INPUT playAgain
        
    END WHILE
    
    DISPLAY "Thanks for playing! Final balance: $" + playerMoney

END MAIN PROGRAM


FUNCTION CreateDeck()
    SET deck = empty list
    SET suits = ["Hearts", "Diamonds", "Clubs", "Spades"]
    SET names = ["Ace", "2", "3", "4", "5", "6", "7", "8", "9", "10", "Jack", "Queen", "King"]
    SET values = [11, 2, 3, 4, 5, 6, 7, 8, 9, 10, 10, 10, 10]
    
    FOR each suit IN suits DO
        FOR i = 0 TO 12 DO
            CREATE card with name=names[i], suit=suit, value=values[i]
            ADD card TO deck
        END FOR
    END FOR
    
    RETURN deck
END FUNCTION


FUNCTION ShuffleDeck()
    FOR i = SIZE(deck) - 1 DOWN TO 1 DO
        SET j = RANDOM(0 to i)
        SWAP deck[i] WITH deck[j]
    END FOR
END FUNCTION


FUNCTION DealCard()
    SET card = LAST element of deck
    REMOVE last element from deck
    RETURN card
END FUNCTION


FUNCTION CalculateHandValue(hand)
    SET total = 0
    SET aceCount = 0
    
    FOR each card IN hand DO
        total = total + card.value
        IF card.name == "Ace" THEN
            aceCount = aceCount + 1
        END IF
    END FOR
    
    WHILE total > 21 AND aceCount > 0 DO
        total = total - 10
        aceCount = aceCount - 1
    END WHILE
    
    RETURN total
END FUNCTION


FUNCTION CalculateBustProbability(currentTotal, remainingCards)
    SET bustCount = 0
    
    FOR each card IN remainingCards DO
        SET cardValue = card.value
        IF card.name == "Ace" THEN
            IF currentTotal + 1 > 21 THEN
                bustCount = bustCount + 1
            END IF
        ELSE IF currentTotal + cardValue > 21 THEN
            bustCount = bustCount + 1
        END IF
    END FOR
    
    RETURN (bustCount / SIZE(remainingCards)) * 100
END FUNCTION


FUNCTION DisplayProbabilities(playerHand, dealerUpCard)
    SET playerTotal = CalculateHandValue(playerHand)
    SET remainingCards = GetRemainingCards()
    
    SET bustProb = CalculateBustProbability(playerTotal, remainingCards)
    SET dealerBustProb = SimulateDealerBustProbability(dealerUpCard, remainingCards)
    SET winProb = SimulateWinProbability(playerTotal, dealerUpCard, remainingCards)
    SET safeHitProb = 100 - bustProb
    
    DISPLAY "--- Probability Analysis ---"
    DISPLAY "Probability of busting on next hit: " + bustProb + "%"
    DISPLAY "Estimated dealer bust probability: " + dealerBustProb + "%"
    DISPLAY "Current winning probability (if standing): " + winProb + "%"
    DISPLAY "Safe hit probability: " + safeHitProb + "%"
END FUNCTION


FUNCTION SimulateDealerBustProbability(dealerUpCard, remainingCards)
    SET bustCount = 0
    SET simulations = 1000
    
    FOR sim = 1 TO simulations DO
        SET dealerTotal = dealerUpCard
        SET aces = IF dealerUpCard == 11 THEN 1 ELSE 0
        
        // Simulate hole card
        SET holeCard = RANDOM card from remainingCards
        dealerTotal = dealerTotal + holeCard.value
        IF holeCard.name == "Ace" THEN aces = aces + 1
        
        // Adjust for soft hand
        WHILE dealerTotal > 21 AND aces > 0 DO
            dealerTotal = dealerTotal - 10
            aces = aces - 1
        END WHILE
        
        // Dealer hits until 17+
        WHILE dealerTotal < 17 DO
            SET nextCard = RANDOM card from remainingCards
            dealerTotal = dealerTotal + nextCard.value
            IF nextCard.name == "Ace" THEN aces = aces + 1
            
            WHILE dealerTotal > 21 AND aces > 0 DO
                dealerTotal = dealerTotal - 10
                aces = aces - 1
            END WHILE
        END WHILE
        
        IF dealerTotal > 21 THEN
            bustCount = bustCount + 1
        END IF
    END FOR
    
    RETURN (bustCount / simulations) * 100
END FUNCTION

END PROGRAM
